{% extends 'admin_layout.html' %}

{% block title %}
World of Music | Dashboard
{% endblock %}

{% block head %}

{{ super() }}


<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/css/select2.min.css" rel="stylesheet"
      xmlns="http://www.w3.org/1999/html"/>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../static/style.css">
{% endblock %}


{% block content %}
<div id="tab" hidden>Payment</div>

<div class=' d-flex justify-content-start bg-light'>
    <div class="my-4 container-fluid mx-3">
        <h1>World of Music</h1>
        <h4>Payment</h4>
    </div>
</div>
<div class="container my-4">
    <div class="my-3">
        <a href="#" class="btn btn-primary fee-payment-tab my-3 mr-2">Fee payment</a>
        <a href="#" class="btn btn-outline-primary instrument-sales-tab my-3 mr-2">Instrument Sales</a>
        <a href="#" class="btn btn-outline-primary other-sales-tab my-3 mr-2">Other Sales</a>
        <a href="/allSales" class="btn btn-outline-primary my-3 mr-2"><i class="fa fa-shopping-cart"></i> View all Sales</a>
    </div>
    <div class="fee-payment row">
        <div class="col-md-6">
            <input type="text" placeholder="Enter Student ID" id='student_id' class="form-control">
            <div class="my-3 details d-none">

                <div class="my-2">
                    <label class="font-weight-bold">Name: </label><label class="ml-2 name"></label>
                </div>
                <div class="my-2">
                    <label class="font-weight-bold">Month: </label><label class="ml-2 month"></label>
                </div>
                <div class="my-2">
                    <label class="font-weight-bold">Status: </label><label class="ml-2 status"></label>
                </div>
            </div>
            <div class="my-3 text-danger no-student-found d-none font-weight-bold ">
                No student found by that ID
            </div>
            <div class="my-3 loader d-none">
                <img src="../static/loader.gif" alt="Loading.." width="30" height="30">
            </div>
            <div class="mt-3">
                <button class="btn btn-light border border-dark check-status">Check Status</button>
                <div class="my-3 received d-none">
                    <form action="/markFeePaid" method="post">
                        <input type="hidden" name="month" value="{{month}}">
                        <input type="hidden" name="id" id="enrollment_id">
                        <button class="btn btn-success">Mark fee for {{month}} as paid</button>
                    </form>
                </div>

            </div>
        </div>
    </div>
    <div class="instrument-sales d-none">
        <div class="row">
            <div class="col-md-6">
                <form action="/payment" method="post">
                    <div class="form-group">
                        <label>Enter student id</label>
                        <input type="text" name="id" placeholder="Student id" class="form-control">
                    </div>
                    <div class="form-group">
                        <label>Enter name if not student</label>
                        <input type="text" name="name" placeholder="Please specify name if not student"
                               class="form-control">
                    </div>
                    <div class="form-group">
                        <label>Product bought</label>
                        <select name="product" id="" class="form-control">
                            {% for i in results %}
                            <option value="{{i[0]}}">{{ i[1] }} : â‚¹ {{ i[2] }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="form-group">
                        <button class="btn btn-primary">Submit</button>
                    </div>
                </form>

            </div>
        </div>
    </div>
    <div class="other-sales d-none">
        <div class="row">
            <div class="col-md-6">
                <form method="post" action="/otherSales">
                    <div class="form-group">
                        <label>
                            Buyer Name
                        </label>
                        <input type="text" placeholder="Enter buyer's full name" name="buyer" class="form-control">
                    </div>
                    <div class="form-group">
                        <label>
                            Item Name
                        </label>
                        <input type="text" name="name" class="form-control" placeholder="Enter name of item/service">
                    </div>
                    <div class="form-group">
                        <label>
                            Price in Rupees
                        </label>
                        <input type="number" name="price" class="form-control" placeholder="Enter price of item/service">
                    </div>
                    <div class="form-group">
                        <button class="btn btn-primary">
                            Submit
                        </button>
                    </div>
                </form>

            </div>
        </div>
    </div>

</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/js/select2.min.js"></script>
<script src="../static/payment.js"></script>
{% endblock %}
